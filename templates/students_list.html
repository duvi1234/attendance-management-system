{% extends "base.html" %}

{% block content %}
<h2>All Students - Attendance Percentage</h2>

<div class="table-container" tabindex="0">
    <table>
        <thead>
            <tr>
                <th>Roll No</th>
                <th>Registration No</th>
                <th>Name</th>
                <th>Total Classes</th>
                <th>Attended Classes</th>
                <th>Attendance %</th>
            </tr>
        </thead>
        <tbody>
            {% for student in students %}
            <tr {% if student.percentage < 75 %} style="background-color: #ffe0e0;" {% endif %}>
                <td>{{ student.roll_no }}</td>
                <td>{{ student.reg_no }}</td>
                <td>{{ student.name }}</td>
                <td>{{ student.total_classes }}</td>
                <td>{{ student.attended_classes }}</td>
                <td>
                    <span {% if student.percentage < 75 %} class="attendance-low" {% else %} class="attendance-high" {% endif %}>
                        {{ student.percentage }}%
                    </span>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

<p style="margin-top: 20px; font-style: italic; text-align: center;">
    <strong>Note:</strong> Students highlighted in red have attendance below 75%.
</p>
{% endblock %}
